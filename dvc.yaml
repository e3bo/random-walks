stages:
  hopkins-2020-08-03:
    cmd: fdt=2020-08-03 Rscript pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-03
  forecast-2020-08-03:
    cmd: fdt=2020-08-03 Rscript forecast-package-covidhub-forecast.R
    deps:
    - covidhub-common.R
    - forecast-package-covidhub-forecast.R
    - hopkins/2020-08-03
    - model.ini
    outs:
    - forecasts/2020-08-03-CEID-Walk.csv
    metrics:
    - metrics/2020-08-03-forecast-calc-time.json:
        cache: false
  hopkins-2020-07-26:
    cmd: fdt=2020-07-26 Rscript pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-26
  forecast-2020-07-26:
    cmd: fdt=2020-07-26 Rscript forecast-package-covidhub-forecast.R
    deps:
    - covidhub-common.R
    - forecast-package-covidhub-forecast.R
    - hopkins/2020-07-26
    - model.ini
    outs:
    - forecasts/2020-07-26-CEID-Walk.csv
    metrics:
    - metrics/2020-07-26-forecast-calc-time.json:
        cache: false
  score-2020-08-03:
    cmd: ddt=2020-08-03 Rscript quantile-score.R
    deps:
    - covidhub-common.R
    - forecasts
    - hopkins/2020-08-03
    - quantile-score.R
    outs:
    - metrics/2020-08-03-residuals.rds
    plots:
    - metrics/2020-08-03-score-by-loc-type-targ-type-forecast-date.csv:
        cache: false
    - metrics/2020-08-03-score-by-loc-type-targ-type.csv:
        cache: false
    - metrics/2020-08-03-score-by-loc-type.csv:
        cache: false
  hopkins-2020-07-19:
    cmd: fdt=2020-07-19 Rscript pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-19
  forecast-2020-07-19:
    cmd: fdt=2020-07-19 Rscript forecast-package-covidhub-forecast.R
    deps:
    - covidhub-common.R
    - forecast-package-covidhub-forecast.R
    - hopkins/2020-07-19
    - model.ini
    outs:
    - forecasts/2020-07-19-CEID-Walk.csv
    metrics:
    - metrics/2020-07-19-forecast-calc-time.json:
        cache: false
  hopkins-2020-07-12:
    cmd: fdt=2020-07-12 Rscript pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-12
  forecast-2020-07-12:
    cmd: fdt=2020-07-12 Rscript forecast-package-covidhub-forecast.R
    deps:
    - covidhub-common.R
    - forecast-package-covidhub-forecast.R
    - hopkins/2020-07-12
    - model.ini
    outs:
    - forecasts/2020-07-12-CEID-Walk.csv
    metrics:
    - metrics/2020-07-12-forecast-calc-time.json:
        cache: false
  hopkins-2020-07-05:
    cmd: fdt=2020-07-05 Rscript pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-05
  forecast-2020-07-05:
    cmd: fdt=2020-07-05 Rscript forecast-package-covidhub-forecast.R
    deps:
    - covidhub-common.R
    - forecast-package-covidhub-forecast.R
    - hopkins/2020-07-05
    - model.ini
    outs:
    - forecasts/2020-07-05-CEID-Walk.csv
    metrics:
    - metrics/2020-07-05-forecast-calc-time.json:
        cache: false
  hopkins-2020-08-09:
    cmd: fdt=2020-08-09 Rscript pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-09
  forecast-2020-08-09:
    cmd: fdt=2020-08-09 Rscript forecast-package-covidhub-forecast.R
    deps:
    - covidhub-common.R
    - forecast-package-covidhub-forecast.R
    - hopkins/2020-08-09
    - model.ini
    outs:
    - forecasts/2020-08-09-CEID-Walk.csv
    metrics:
    - metrics/2020-08-09-forecast-calc-time.json:
        cache: false
