stages:
  hopkins-2020-10-12:
    cmd: fdt=2020-10-12 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-12
  hopkins-2021-01-11:
    cmd: fdt=2021-01-11 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-01-11
  hopkins-2020-10-05:
    cmd: fdt=2020-10-05 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-05
  hopkins-2020-09-28:
    cmd: fdt=2020-09-28 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-28
  hopkins-2020-09-21:
    cmd: fdt=2020-09-21 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-21
  hopkins-2020-09-14:
    cmd: fdt=2020-09-14 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-14
  hopkins-2020-10-19:
    cmd: fdt=2020-10-19 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-19
  hopkins-2020-10-26:
    cmd: fdt=2020-10-26 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-26
  hopkins-2020-11-02:
    cmd: fdt=2020-11-02 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-02
  hopkins-2020-11-09:
    cmd: fdt=2020-11-09 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-09
  hopkins-2020-11-16:
    cmd: fdt=2020-11-16 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-16
  hopkins-2020-11-23:
    cmd: fdt=2020-11-23 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-23
  hopkins-2020-11-30:
    cmd: fdt=2020-11-30 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-30
  hopkins-2021-01-25:
    cmd: fdt=2021-01-25 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-01-25
  combine:
    cmd: ./combine-location-forecasts.R
    deps:
    - combine-location-forecasts.R
    - covidhub-common.R
    - forecasts
    outs:
    - lambda010.00-a0.94-CEID-InfectionKalman
    - lambda010.00-a0.95-CEID-InfectionKalman
    - lambda011.24-a0.94-CEID-InfectionKalman
    - lambda011.24-a0.95-CEID-InfectionKalman
    - lambda012.82-a0.94-CEID-InfectionKalman
    - lambda012.82-a0.95-CEID-InfectionKalman
    - lambda014.93-a0.94-CEID-InfectionKalman
    - lambda014.93-a0.95-CEID-InfectionKalman
    - lambda017.86-a0.94-CEID-InfectionKalman
    - lambda017.86-a0.95-CEID-InfectionKalman
    - lambda022.22-a0.94-CEID-InfectionKalman
    - lambda022.22-a0.95-CEID-InfectionKalman
    - lambda029.41-a0.94-CEID-InfectionKalman
    - lambda029.41-a0.95-CEID-InfectionKalman
    - lambda043.48-a0.94-CEID-InfectionKalman
    - lambda043.48-a0.95-CEID-InfectionKalman
    - lambda083.33-a0.94-CEID-InfectionKalman
    - lambda083.33-a0.95-CEID-InfectionKalman
    - lambda1000.00-a0.94-CEID-InfectionKalman
    - lambda1000.00-a0.95-CEID-InfectionKalman
  pull-archived-forecasts:
    cmd: ./pull-other-forecasts.R
    deps:
    - pull-other-forecasts.R
    outs:
    - other-model-forecasts.rds
  make-trajectory-plots:
    cmd: ./make-trajectory-plots.R
    deps:
    - lambda010.00-CEID-InfectionKalmanEmp
    - lambda011.24-CEID-InfectionKalmanEmp
    - lambda012.82-CEID-InfectionKalmanEmp
    - lambda014.93-CEID-InfectionKalmanEmp
    - lambda017.86-CEID-InfectionKalmanEmp
    - lambda022.22-CEID-InfectionKalmanEmp
    - lambda029.41-CEID-InfectionKalmanEmp
    - lambda043.48-CEID-InfectionKalmanEmp
    - lambda083.33-CEID-InfectionKalmanEmp
    - lambda1000.00-CEID-InfectionKalmanEmp
    - make-trajectory-plots.R
    - other-model-forecasts.rds
    outs:
    - trajectories-all
  analyze-scores:
    cmd: Rscript -e "knitr::spin(\"analyze-scores.R\")"
    deps:
    - analyze-scores.R
    - lambda010.00-CEID-InfectionKalman
    - lambda010.00-CEID-InfectionKalmanEmp
    - lambda011.24-CEID-InfectionKalman
    - lambda011.24-CEID-InfectionKalmanEmp
    - lambda012.82-CEID-InfectionKalman
    - lambda012.82-CEID-InfectionKalmanEmp
    - lambda014.93-CEID-InfectionKalman
    - lambda014.93-CEID-InfectionKalmanEmp
    - lambda017.86-CEID-InfectionKalman
    - lambda017.86-CEID-InfectionKalmanEmp
    - lambda022.22-CEID-InfectionKalman
    - lambda022.22-CEID-InfectionKalmanEmp
    - lambda029.41-CEID-InfectionKalman
    - lambda029.41-CEID-InfectionKalmanEmp
    - lambda043.48-CEID-InfectionKalman
    - lambda043.48-CEID-InfectionKalmanEmp
    - lambda083.33-CEID-InfectionKalman
    - lambda083.33-CEID-InfectionKalmanEmp
    - lambda1000.00-CEID-InfectionKalman
    - lambda1000.00-CEID-InfectionKalmanEmp
    - other-model-forecasts.rds
    outs:
    - analyze-scores.html
    - analyze-scores.md
    plots:
    - horizon-location-model.csv:
        template: horizon-location-model
    - location-model.csv:
        template: location-model
    - model.csv:
        template: model
  hopkins-2020-09-07:
    cmd: fdt=2020-09-07 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-07
  hopkins-2020-07-20:
    cmd: fdt=2020-07-20 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-20
  hopkins-2020-07-27:
    cmd: fdt=2020-07-27 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-27
  hopkins-2020-08-03:
    cmd: fdt=2020-08-03 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-03
  hopkins-2020-08-10:
    cmd: fdt=2020-08-10 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-10
  hopkins-2020-08-17:
    cmd: fdt=2020-08-17 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-17
  hopkins-2020-08-24:
    cmd: fdt=2020-08-24 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-24
  hopkins-2020-08-31:
    cmd: fdt=2020-08-31 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-31
  hopkins-2020-07-26:
    cmd: fdt=2020-07-26 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-26
  make-empirical-pi-forecasts:
    cmd: ./calculate-empirical-errors.R
    deps:
    - calculate-empirical-errors.R
    - lambda010.00-a0.94-CEID-InfectionKalman
    - lambda010.00-a0.95-CEID-InfectionKalman
    - lambda011.24-a0.94-CEID-InfectionKalman
    - lambda011.24-a0.95-CEID-InfectionKalman
    - lambda012.82-a0.94-CEID-InfectionKalman
    - lambda012.82-a0.95-CEID-InfectionKalman
    - lambda014.93-a0.94-CEID-InfectionKalman
    - lambda014.93-a0.95-CEID-InfectionKalman
    - lambda017.86-a0.94-CEID-InfectionKalman
    - lambda017.86-a0.95-CEID-InfectionKalman
    - lambda022.22-a0.94-CEID-InfectionKalman
    - lambda022.22-a0.95-CEID-InfectionKalman
    - lambda029.41-a0.94-CEID-InfectionKalman
    - lambda029.41-a0.95-CEID-InfectionKalman
    - lambda043.48-a0.94-CEID-InfectionKalman
    - lambda043.48-a0.95-CEID-InfectionKalman
    - lambda083.33-a0.94-CEID-InfectionKalman
    - lambda083.33-a0.95-CEID-InfectionKalman
    - lambda1000.00-a0.94-CEID-InfectionKalman
    - lambda1000.00-a0.95-CEID-InfectionKalman
    outs:
    - lambda010.00-a0.94-CEID-InfectionKalmanEmp
    - lambda010.00-a0.95-CEID-InfectionKalmanEmp
    - lambda011.24-a0.94-CEID-InfectionKalmanEmp
    - lambda011.24-a0.95-CEID-InfectionKalmanEmp
    - lambda012.82-a0.94-CEID-InfectionKalmanEmp
    - lambda012.82-a0.95-CEID-InfectionKalmanEmp
    - lambda014.93-a0.94-CEID-InfectionKalmanEmp
    - lambda014.93-a0.95-CEID-InfectionKalmanEmp
    - lambda017.86-a0.94-CEID-InfectionKalmanEmp
    - lambda017.86-a0.95-CEID-InfectionKalmanEmp
    - lambda022.22-a0.94-CEID-InfectionKalmanEmp
    - lambda022.22-a0.95-CEID-InfectionKalmanEmp
    - lambda029.41-a0.94-CEID-InfectionKalmanEmp
    - lambda029.41-a0.95-CEID-InfectionKalmanEmp
    - lambda043.48-a0.94-CEID-InfectionKalmanEmp
    - lambda043.48-a0.95-CEID-InfectionKalmanEmp
    - lambda083.33-a0.94-CEID-InfectionKalmanEmp
    - lambda083.33-a0.95-CEID-InfectionKalmanEmp
    - lambda1000.00-a0.94-CEID-InfectionKalmanEmp
    - lambda1000.00-a0.95-CEID-InfectionKalmanEmp
  hopkins-2020-12-21:
    cmd: fdt=2020-12-21 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-12-21
  hopkins-2020-12-14:
    cmd: fdt=2020-12-14 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-12-14
  hopkins-2020-12-07:
    cmd: fdt=2020-12-07 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-12-07
  hopkins-2020-12-28:
    cmd: fdt=2020-12-28 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-12-28
  hopkins-2021-01-04:
    cmd: fdt=2021-01-04 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-01-04
  hopkins-2021-01-18:
    cmd: fdt=2021-01-18 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-01-18
  hopkins-2021-02-01:
    cmd: fdt=2021-02-01 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-02-01
