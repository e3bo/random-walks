stages:
  hopkins-2020-10-12:
    cmd: fdt=2020-10-12 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-12
  hopkins-2021-01-11:
    cmd: fdt=2021-01-11 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-01-11
  hopkins-2020-10-05:
    cmd: fdt=2020-10-05 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-05
  hopkins-2020-09-28:
    cmd: fdt=2020-09-28 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-28
  hopkins-2020-09-21:
    cmd: fdt=2020-09-21 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-21
  hopkins-2020-09-14:
    cmd: fdt=2020-09-14 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-14
  hopkins-2020-10-19:
    cmd: fdt=2020-10-19 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-19
  hopkins-2020-10-26:
    cmd: fdt=2020-10-26 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-10-26
  hopkins-2020-11-02:
    cmd: fdt=2020-11-02 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-02
  hopkins-2020-11-09:
    cmd: fdt=2020-11-09 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-09
  hopkins-2020-11-16:
    cmd: fdt=2020-11-16 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-16
  hopkins-2020-11-23:
    cmd: fdt=2020-11-23 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-23
  hopkins-2020-11-30:
    cmd: fdt=2020-11-30 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-11-30
  hopkins-2021-01-25:
    cmd: fdt=2021-01-25 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2021-01-25
  combine:
    cmd: ./combine-location-forecasts.R
    deps:
    - combine-location-forecasts.R
    - covidhub-common.R
    - forecasts
    outs:
    - lambda125.89-CEID-InfectionKalman
    - lambda158.49-CEID-InfectionKalman
  pull-archived-forecasts:
    cmd: ./pull-other-forecasts.R
    deps:
    - pull-other-forecasts.R
    outs:
    - other-model-forecasts.rds
  make-trajectory-plots:
    cmd: ./make-trajectory-plots.R
    deps:
    - lambda125.89-CEID-InfectionKalman
    - lambda158.49-CEID-InfectionKalman
    - make-trajectory-plots.R
    - other-model-forecasts.rds
    outs:
    - trajectories-0.png
    - trajectories-1.png
    - trajectories-2.png
    - trajectories-3.png
    - trajectories-all.png
  analyze-scores:
    cmd: Rscript -e "knitr::spin(\"analyze-scores.R\")"
    deps:
    - analyze-scores.R
    - lambda125.89-CEID-InfectionKalman
    - lambda158.49-CEID-InfectionKalman
    - other-model-forecasts.rds
    outs:
    - analyze-scores.html
    - analyze-scores.md
    - figure
  hopkins-2020-09-07:
    cmd: fdt=2020-09-07 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-09-07
  hopkins-2020-07-20:
    cmd: fdt=2020-07-20 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-20
  hopkins-2020-07-27:
    cmd: fdt=2020-07-27 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-07-27
  hopkins-2020-08-03:
    cmd: fdt=2020-08-03 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-03
  hopkins-2020-08-10:
    cmd: fdt=2020-08-10 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-10
  hopkins-2020-08-17:
    cmd: fdt=2020-08-17 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-17
  hopkins-2020-08-24:
    cmd: fdt=2020-08-24 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-24
  hopkins-2020-08-31:
    cmd: fdt=2020-08-31 ./pull-hopkins-ts-from-date.R
    deps:
    - pull-hopkins-ts-from-date.R
    outs:
    - hopkins/2020-08-31
  forecast-2020-10-12-36:
    cmd: fdt=2020-10-12 loc=36 Rscript InfectionKalmanRegularization.R
    deps:
    - InfectionKalmanRegularization.R
    - covidhub-common.R
    - hopkins/2020-10-12
    outs:
    - forecasts/2020-10-12-fips36-lambda125.89-CEID-InfectionKalman.csv
    - forecasts/2020-10-12-fips36-lambda158.49-CEID-InfectionKalman.csv
